{"is_source_file": true, "format": "Python", "description": "This file implements a backend API for a simple to-do list application using FastAPI. It defines data models with Pydantic, handles CRUD operations for tasks in-memory, and provides health check endpoints. The code includes route definitions, request/response models, and in-memory storage management.", "external_files": ["fastapi", "fastapi.middleware.cors", "pydantic", "enum"], "external_methods": ["FastAPI()", "CORSMiddleware()", "HTTPException", "Path", "Field", "Enum()", "BaseModel", "dict.get()", "sorted()", "raise", "list.append()", "del"], "published": ["app", "_TASKS", "_NEXT_ID"], "classes": [{"name": "TaskStatus", "description": "An enumeration representing the possible statuses of a task ('pending' or 'completed')."}, {"name": "TaskBase", "description": "Base data model for task input payloads, including title, description, and status fields."}, {"name": "TaskCreate", "description": "Model for creating new tasks, inherits from TaskBase."}, {"name": "TaskUpdate", "description": "Model for fully updating tasks, inherits from TaskBase."}, {"name": "TaskPatch", "description": "Model for partial task updates, with optional fields."}, {"name": "Task", "description": "Response model representing a task with an ID."}, {"name": "TaskList", "description": "Response model for listing multiple tasks."}], "methods": [{"name": "Task _get_task_or_404(task_id: int)", "description": "Fetch a task by ID or raise 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] health_check()", "description": "Health check endpoint returning a simple message.", "scope": "", "scopeKind": ""}, {"name": "TaskList list_tasks()", "description": "Returns all stored tasks in an ordered list.", "scope": "", "scopeKind": ""}, {"name": "Task create_task(payload: TaskCreate)", "description": "Creates a new task, assigns an ID, and stores it.", "scope": "", "scopeKind": ""}, {"name": "Task get_task( id: int = Path(..., ge=1, description=\"Task id\"), )", "description": "Retrieves a specific task by ID.", "scope": "", "scopeKind": ""}, {"name": "Task update_task( payload: TaskUpdate, id: int = Path(..., ge=1, description=\"Task id\"), )", "description": "Fully replaces a task's data.", "scope": "", "scopeKind": ""}, {"name": "Task patch_task( payload: TaskPatch, id: int = Path(..., ge=1, description=\"Task id\"), )", "description": "Partially updates task fields.", "scope": "", "scopeKind": ""}, {"name": "None delete_task( id: int = Path(..., ge=1, description=\"Task id\"), )", "description": "Deletes a task by ID.", "scope": "", "scopeKind": ""}], "calls": ["sorted(_TASKS.values(), key=lambda t: t.id)", "_get_task_or_404(id)", "raise HTTPException", "del _TASKS[id]", "Task(...)", "payload.model_dump()", "payload.model_dump(exclude_unset=True)", "existing.model_dump()", "new_data.update(patch_data)"], "search-terms": ["FastAPI CRUD in-memory", "Task models with Pydantic", "task status enum", "in-memory task storage", "health check endpoint", "task ID path parameter", "partial update with PATCH", "auto-increment task ID"], "state": 2, "file_id": 1, "knowledge_revision": 10, "git_revision": "8f899262ef1bd7e7236dc947b852890e3453a9da", "revision_history": [{"9": "188bbe235cf89e65d5a240a5000d82458068efc8"}, {"10": "8f899262ef1bd7e7236dc947b852890e3453a9da"}], "ctags": [{"_type": "tag", "name": "Task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^class Task(TaskBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TaskBase", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^class TaskBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TaskCreate", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^class TaskCreate(TaskBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TaskList", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^class TaskList(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TaskPatch", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^class TaskPatch(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TaskStatus", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^class TaskStatus(str, Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TaskUpdate", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^class TaskUpdate(TaskBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_NEXT_ID", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^_NEXT_ID: int = 1$/", "language": "Python", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "_TASKS", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^_TASKS: Dict[int, Task] = {}$/", "language": "Python", "typeref": "typename:Dict[int, Task]", "kind": "variable"}, {"_type": "tag", "name": "_get_task_or_404", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def _get_task_or_404(task_id: int) -> Task:$/", "language": "Python", "typeref": "typename:Task", "kind": "function", "signature": "(task_id: int)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "completed", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    completed = \"completed\"$/", "language": "Python", "kind": "variable", "scope": "TaskStatus", "scopeKind": "class"}, {"_type": "tag", "name": "create_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def create_task(payload: TaskCreate) -> Task:$/", "language": "Python", "typeref": "typename:Task", "kind": "function", "signature": "(payload: TaskCreate)"}, {"_type": "tag", "name": "delete_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def delete_task($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( id: int = Path(..., ge=1, description=\"Task id\"), )"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    description: Optional[str] = Field(None, description=\"Task details\\/notes.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TaskPatch", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    description: str = Field(..., description=\"Task details\\/notes.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TaskBase", "scopeKind": "class"}, {"_type": "tag", "name": "get_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def get_task($/", "language": "Python", "typeref": "typename:Task", "kind": "function", "signature": "( id: int = Path(..., ge=1, description=\"Task id\"), )"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def health_check() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    id: int = Field(..., ge=1, description=\"Auto-increment integer task id.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "Task", "scopeKind": "class"}, {"_type": "tag", "name": "list_tasks", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def list_tasks() -> TaskList:$/", "language": "Python", "typeref": "typename:TaskList", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "patch_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def patch_task($/", "language": "Python", "typeref": "typename:Task", "kind": "function", "signature": "( payload: TaskPatch, id: int = Path(..., ge=1, description=\"Task id\"), )"}, {"_type": "tag", "name": "pending", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    pending = \"pending\"$/", "language": "Python", "kind": "variable", "scope": "TaskStatus", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    status: Optional[TaskStatus] = Field($/", "language": "Python", "typeref": "typename:Optional[TaskStatus]", "kind": "variable", "scope": "TaskPatch", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    status: TaskStatus = Field(..., description=\"Task status: pending|completed.\")$/", "language": "Python", "typeref": "typename:TaskStatus", "kind": "variable", "scope": "TaskBase", "scopeKind": "class"}, {"_type": "tag", "name": "tasks", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    tasks: List[Task] = Field(..., description=\"All tasks.\")$/", "language": "Python", "typeref": "typename:List[Task]", "kind": "variable", "scope": "TaskList", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    title: Optional[str] = Field(None, min_length=1, description=\"Short task title.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TaskPatch", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^    title: str = Field(..., min_length=1, description=\"Short task title.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TaskBase", "scopeKind": "class"}, {"_type": "tag", "name": "update_task", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-app-302026-302055/backend_api/src/api/main.py", "pattern": "/^def update_task($/", "language": "Python", "typeref": "typename:Task", "kind": "function", "signature": "( payload: TaskUpdate, id: int = Path(..., ge=1, description=\"Task id\"), )"}], "hash": "7576192601906db5c52064265b0b5a3f", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/main.py", "fields": [{"name": "int _NEXT_ID", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[int, Task] _TASKS", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "completed = \"completed\"", "scope": "TaskStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] description", "scope": "TaskPatch", "scopeKind": "class", "description": "unavailable"}, {"name": "str description", "scope": "TaskBase", "scopeKind": "class", "description": "unavailable"}, {"name": "int id", "scope": "Task", "scopeKind": "class", "description": "unavailable"}, {"name": "pending = \"pending\"", "scope": "TaskStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[TaskStatus] status", "scope": "TaskPatch", "scopeKind": "class", "description": "unavailable"}, {"name": "TaskStatus status", "scope": "TaskBase", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Task] tasks", "scope": "TaskList", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] title", "scope": "TaskPatch", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "TaskBase", "scopeKind": "class", "description": "unavailable"}]}